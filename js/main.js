const data = {
    //! Quienes Somos
    us: [
        {
            description: "Una academia de danza que fusiona t√©cnicas de danza contempor√°nea, moderna y folcl√≥rica, formando bailarines con mentalidad profesional desde los 3 a√±os. Ofrecemos programas para ni√±os, j√≥venes, adultos y adultos mayores. Tambi√©n contamos con servicios de shows, alquiler de vestuario y confecci√≥n de trajes t√≠picos. ¬°Bailar es nuestra pasi√≥n!",
            images: [
            "img/group.webp",
            "img/group2.webp",
        ]
        }
    ],
    // ! Grupos Academicos
    groups: [
        {
            name: "Pre-Infantil",
            description: "Descripci√≥n del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "grupo",
            ages: "2-3 a√±os",
            schedule: "Sab 10:00 AM -1:00 PM",
            image: "img/group2.png",
        },
        {
            name: "Infantil",
            description: "Descripci√≥n del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "grupo",
            ages: "2-3 a√±os",
            schedule: "Sab 10:00 AM - 1:00 PM",
            image: "img/infantil.webp",
        },
        {
            name: "Junior",
            description: "Descripcion del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "grupo",
            ages: "6-10 a√±os",
            schedule: "Sab 10:00 AM - 1:00 PM",
            image: "img/junior.webp",
        },
        {
            name: "Pre-Juvenil",
            description: "Descripcion del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "grupo",
            ages: "2-3 a√±os",
            schedule: "Sab 10:00 AM - 1:00 PM",
            image: "img/group2.png",
        },
        {
            name: "Juvenil",
            description: "Descripcion del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "grupo",
            ages: "2-3 a√±os",
            schedule: "Sab 10:00 AM - 1:00 PM",
            image: "img/group2.png",
        },
        {
            name: "Compa√±ia Yurumany",
            description: "Descripcion del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "compa√±ia",
            ages: "2-3 a√±os",
            schedule: "Sab 10:00 AM - 1:00 PM",
            image: "img/group2.png",
        },
        {
            name: "Compa√±ia Kawsay",
            description: "Descripcion del grupo",
            description_large:
                "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam eleifend nec tortor ac efficitur. Sed eu blandit lacus, quis tristique nibh. Cras mattis mauris ligula, non tincidunt odio pellentesque eu. Phasellus sed justo pellentesque, vestibulum augue vitae, luctus massa. Aliquam ligula ante, rhoncus sed commodo vel, placerat ut ipsum. Suspendisse dapibus eleifend magna, sit amet fringilla quam posuere in. Nullam pharetra magna quis risus tempus mattis. Pellentesque placerat, mi gravida aliquet lacinia, metus massa ullamcorper enim, vitae blandit sem lorem sed arcu.",
            type: "compa√±ia",
            ages: "2-3 a√±os",
            schedule: "Sab 10:00 AM - 1:00 PM",
            image: "img/kawsay.webp",
        },
    ],
    // ! Profesores
    teachers: [
        {
            name: "Jorge Mauricio Pinilla",
            //specialty: "Especialidad? jsjsjjs",
            experience: "Director",
            image: "img/mauricio.webp",
            achievements: ["Director", "Coreografo"],
        },
        {
            name: "Anny Dayanna Nu√±ez",
            //specialty: "Especialidad? x2",
            experience: "Profesora",
            image: "img/anny.webp",
            achievements: ["La mami de sergei", "Profesora junior?"],
        },
        {
            name: "Danna Sofia Bautista",
            //specialty: "Hace algo?",
            experience: "Auxiliar",
            image: "img/danna.webp",
            achievements: ["Infantil B", "Junior B"],
        },
        {
            name: "Angie Tatiana P√©rez",
            //specialty: "The peach? JASJAJSJ",
            experience: "Profesora",
            image: "img/gy.webp",
            achievements: ["Profesora Juvenil?"],
        },
        {
            name: "Angie Serrano",
            //specialty: "??????????",
            experience: "Profesora",
            image: "img/angie.webp",
            achievements: ["Infanti", "Junior"],
        },
        {
            name: "Cesar L√©pez",
            //specialty: "Adiestrando perros",
            experience: "Profesor",
            image: "img/cesar.webp",
            achievements: ["Juvenil", "Junior C"],
        },
    ],
    // ! Equipo Admin
    adminTeam: [
        {
            name: "Daniel L√≥pez",
            position: "Medios Audiovisuales",
            description: "Miercoles de 2x1",
            image: "img/pipe.webp",
        },
        {
            name: "Juan Diego Quintana",
            position: "Sistemas y medios audiovisuales",
            description: "Vomite ü§Æü§Æ",
            image: "img/juan-Diego.webp",
        },
        {
            name: "Sergio",
            position: "El novio de lily",
            description: "Todas quieren con el",
            image: "img/sergio.webp",
        },
        {
            name: "Julieth",
            position: "administradora contable",
            description: "La perris",
            image: "img/julieth.webp",
        },
        {
            name: "Lily Vega",
            position: "administradora contable",
            description: "La futura esposa de Sergei",
            image: "img/lily.webp",
        },
        ,
        {
            name: "Juan Jose Sarabia",
            position: "administrador contable",
            description: "La futura esposa de Sergei",
            image: "img/juanjo.webp",
        },
    ],
    // ! Eventos
    events: [
        {
            title: "Se robaron la navidad",
            description: "Clausura Dampro",
            date: "14 Diciembre",
            localitation: "Bucaramanga",
            image:
                "img/se-robaron-la-navidad.webp",
        }
    ],
    // ! Logros
    achievements: [
        {
            icon: "üèÜ",
            number: "5+",
            title: "Premios ganados",
            description: "Premios",
        },
        {
            icon: "üë©‚Äçüéì",
            number: "90+",
            title: "Estudiantes Activos",
            description: "Formando nuevos talentos",
        },
        {
            icon: "üéü",
            number: "300+",
            title: "Presentaciones",
            description: "En teatros y eventos del pais",
        },
    ],
    //! Obras destacadas de la compa√±ia
    works: [
        {
            image: "img/marginados.webp",
            title: "Marginados",
            subtitle: "Juliano P√°jara",
            type: "companiesWorks"
        },
        {
            image: "img/mariaT.webp",
            title: "Maria Teresa",
            subtitle: "La historia de una monta√±era",
            type: "companiesWorks"
        },
        {
            image: "img/fiesta_campesina.webp",
            title: "Fiesta Campesina",
            subtitle: "¬°Que viva Santander mano",
            type: "companiesWorks"
        },
        {
            image: "img/casorio.webp",
            title: "El casorio",
            subtitle: "La historia de un amor campesino",
            type: "companiesWorks"
        },
        {
            image: "img/obra.jpg",
            title: "Enredados",
            subtitle: "Adaptaci√≥n de la pel√≠cula animada de disney",
            type: "groupsWorks"
        },
        {
            image: "img/obra.jpg",
            title: "El origen de los guardianes",
            subtile: "Adaptaci√≥n de la pel√≠cula animada de DreamWorks",
            type: "groupsWorks"
        }
        ,
        {
            image: "img/emiliano.webp",
            title: "Emiliano y su bambazu",
            subtile: "la historia de Emiliano",
            type: "groupsWorks"
        }
    ],
    //!Experiencias
    experiences: [
        //{
        //    image: "img/obra.jpg",
        //    title: "Argentina",
        //    localitation: "Buenos aires",
        //    age: "2020"
        //},
        //{
        //    image: "img/obra.jpg",
        //    title: "Ecuador",
        //    localitation: "Quito",
        //    age: "2020"
        //},
        {
            image: "img/obra.jpg",
            title: "Per√∫",
            localitation: "Lima",
            age: "2020"
        },
        {
            image: "img/obra.jpg",
            title: "M√©xico",
            localitation: "Morelia",
            age: "2020"
        },
        {
            image: "img/chile.jpg",
            title: "Gira Chile",
            localitation: "Santiago de Chile",
            age: "2020"
        },
        {
            image: "img/danzando-peru.jpeg",
            title: "Danzando por el Per√∫",
            localitation: "Lima Per√∫",
            age: "2025"
        }
    ]

}
// * navBar
const hamburger = document.getElementById("hamburger")
const navLinks = document.getElementById("nav-links")

// * varibales carrusel
let currentSlide = 0
let carouselInterval

//* Elementos carrusel
const newsCarousel = document.getElementById("news-carousel")
const prevBtn = document.getElementById("prev-btn")
const nextBtn = document.getElementById("next-btn")
const carouselIndicators = document.getElementById("carousel-indicators")

// * Funcionalidad de la hamburguesa
hamburger.addEventListener("click", (e) => {
    e.stopPropagation();
    navLinks.classList.toggle("active");
});

// * Se cierra cuando el evento esta fuera del modal
document.addEventListener("click", (e) => {
    if (navLinks.classList.contains("active") && !navLinks.contains(e.target) && !hamburger.contains(e.target)) {
        navLinks.classList.remove("active");
    }
});

// * Se cierra al seleccionar una opcion
document.querySelectorAll(".nav-links a").forEach((link) => {
    link.addEventListener("click", () => {
        navLinks.classList.remove("active");
    });
});

//* Inicializacion de la app

document.addEventListener("DOMContentLoaded", () => {
    populateUs()
    populateGroups()
    populateTeachers()
    populateAdmin()
    populateEvents()
    populateWorks()
    populateExperiences()
})

//* Populate Sections

function populateUs() {
        const usContainer = document.getElementById("us-container");
    const usData = data.us[0];

    // Crear estructura del carrusel
    usContainer.innerHTML = `
        <div class="us-carousel">
            <div class="us-slides"></div>
        </div>
        <p class="us-description">${usData.description}</p>
    `;

    const slideContainer = usContainer.querySelector(".us-slides");

    // Insertar im√°genes
    usData.images.forEach(img => {
        const slide = document.createElement("div");
        slide.classList.add("us-slide");

        slide.innerHTML = `<img src="${img}" alt="Imagen nosotros" loading="lazy">`;

        slideContainer.appendChild(slide);
    });

    // --- Carrusel autom√°tico ---
    let index = 0;
    const slides = slideContainer.querySelectorAll(".us-slide");

    function changeSlide() {
        slides.forEach(s => s.style.opacity = "0");
        slides[index].style.opacity = "1";

        index = (index + 1) % slides.length;
    }

    changeSlide();  
    setInterval(changeSlide, 3000); // Cambia cada 3 seg
}

function populateGroups() {
    const groupsContainer = document.getElementById("groups-container")
    const companiesContainer = document.getElementById("companies-container")

    groupsContainer.innerHTML = data.groups
        .filter((item) => item.type === "grupo")
        .map(
            (group, index) =>
                `
        <div class="group-card" data-index="${index}" style="animation-delay: ${index * 0.1}s">
            <div class="group-image">
                <img src="${group.image}" loading="lazy">
                </div>
                <h3>${group.name}</h3>
                <p>${group.description}</p>
                <div class="group-details">
                    <p class="ages">Edades: ${group.ages}</p>
                    <p class="schedule">${group.schedule}</p>
                </div>
            </div>
        </div>
        `,
        )
        .join("")

    companiesContainer.innerHTML = data.groups
        .filter((item) => item.type === "compa√±ia")
        .map(
            (group, index) =>
                `
         <div class="group-card" style="animation-delay: ${index * 0.1}s">
            <div class="group-image">
                <img src="${group.image}" loading="lazy">
                </div>
                <h3>${group.name}</h3>
                <p>${group.description}</p>
                <div class="group-details">
                    <p class="ages">Edades: ${group.ages}</p>
                    <p class="schedule">${group.schedule}</p>
                </div>
            </div>
        </div>
        `,
        )
        .join("")
    //EVENTO
    // Para grupos
    document.querySelectorAll(".group-card").forEach((card, index) => {
        card.setAttribute("data-type", "grupo")
        card.setAttribute("data-index", index)

        card.addEventListener("click", () => {
            openModal(index, "grupo")
        })
    })

    // Para compa√±√≠as
    document.querySelectorAll(".company-card").forEach((card, index) => {
        card.setAttribute("data-type", "compa√±ia")
        card.setAttribute("data-index", index)

        card.addEventListener("click", () => {
            openModal(index, "compa√±ia")
        })
    })
}

function openModal(index, type) {
    const modal = document.getElementById("modal")

    let group
    if (type === "grupo") {
        group = data.groups[index]
    } else if (type === "compa√±ia") {
        group = data.companies[index]
    }

    if (!group) {
        console.error("No se encontr√≥ el objeto con index:", index, "y type:", type)
        return
    }

    // Generar contenido
    modal.innerHTML = `
    <div class="modal-content">
        <span class="close-btn" id="closeModal">&times;</span>
        <img src="${group.image}" alt="${group.name}" class="modal-image" loading="lazy">
        <div class="info">
            <h2>${group.name}</h2>
            <p>${group.description_large}</p>
            <p><strong>Edades:</strong> ${group.ages}</p>
            <p><strong>Horario:</strong> ${group.schedule}</p>
        </div>
        <a href="https://wa.me/573187059300?text=%C2%A1Hola!%20Me%20interesa%20unirme%20a%20${encodeURIComponent(group.name)}.%20%C2%BFMe%20das%20m%C3%A1s%20informaci%C3%B3n%3F" 
        target="_blank">
            <button class="btn-primary">Unirme ahora</button>
        </a>
    </div>
  `

    // Mostrar animaci√≥n de entrada
    modal.classList.remove("hidden")
    const modalContent = modal.querySelector(".modal-content")
    requestAnimationFrame(() => {
        modalContent.classList.add("show")
    })

    // Cerrar modal
    document.getElementById("closeModal").addEventListener("click", () => {
        closeModal(modal, modalContent)
    })

    window.addEventListener("click", (e) => {
        if (e.target.id === "modal") {
            closeModal(modal, modalContent)
        }
    })
}

function closeModal(modal, modalContent) {
    modalContent.classList.remove("show")
    modalContent.classList.add("hide")

    // Esperar a que termine la animaci√≥n
    modalContent.addEventListener(
        "transitionend",
        () => {
            modal.classList.add("hidden")
            modalContent.classList.remove("hide")
        },
        { once: true },
    )
}

function populateWorks() {
    const companiesContainer = document.getElementById("companies-works")
    const groupsContainer = document.getElementById("groups-works")

    companiesContainer.innerHTML = data.works
        .filter((item) => item.type === "companiesWorks")
        .map(
            (work, index) => `
        <div class="event-card" style="animation-delay: ${index * 0.1}s">
            <div class="event-image-container">
                <img src="${work.image}" alt="${event.title}" class="work-img" loading="lazy">
            </div>
            <div class="event-content">
                <div class="event-info">
                    <h3 class="event-title">${work.title}</h3>
                    <p class="event-description">${work.subtitle}</p>
                </div>
            </div>
        </div>
      `
        )
        .join("");

    groupsContainer.innerHTML = data.works
        .filter((item) => item.type === "groupsWorks")
        .map(
            (work, index) => `
        <div class="event-card" style="animation-delay: ${index * 0.1}s">
            <div class="event-image-container">
                <img src="${work.image}" alt="${event.title}" loading="lazy">
            </div>
            <div class="event-content">
                <div class="event-info">
                    <h3 class="event-title">${work.title}</h3>
                    <p class="event-description">${work.subtitle}</p>
                </div>
            </div>
        </div>
      `
        )
        .join("");
}

function populateTeachers() {
    const container = document.getElementById("teachers-container")
    container.innerHTML = data.teachers
        .map(
            (teacher, index) =>
                `
        <div class="teacher-card" style="animation-delay: ${index * 0.15}s">
            <div class="teacher-image-container">
                <img src="${teacher.image}" alt="${teacher.name}" class="teacher-image" loading="lazy">
            </div>
            <div class="teacher-info">
                <h3>${teacher.name}</h3>
                <!-- <p class="specialty">${teacher.specialty}</p> -->
                <p class="experience"><span>${teacher.experience}</span></p>
                <br>
                <div class="achievements">
                    ${teacher.achievements
                    .map(
                        (achievement) => `
                            <span class="achievement-tag">${achievement}</span>
                            `,
                    )
                    .join("")}
                </div>
            </div>
        </div>
        `,
        )
        .join("")
}

function populateAdmin() {
    const container = document.getElementById("admin-container")
    container.innerHTML = data.adminTeam
        .map(
            (member, index) => `
        <div class="admin-card" style="animation-delay: ${index * 0.15}s">
            <div class="admin-image-container">
                <img src="${member.image}" alt="${member.name}" class="admin-image" loading="lazy">
            </div>
            <div class="admin-info">
                <h3>${member.name}</h3>
                <p class="position"><span>${member.position}</span></p>
                <!--<p class="description">${member.description}</p>-->
            </div>
            
        </div>
        `,
        )
        .join("")
}

function populateEvents() {
    const container = document.getElementById("events-container");
    console.log("Contenedor encontrado:", container);

    if (!container) {
        console.error("No se encontr√≥ el contenedor de eventos");
        return;
    }

    console.log("N√∫mero de eventos:", data.events.length);
    console.log("Datos de eventos:", data.events);

    const eventsHTML = data.events
        .map(
            (event, index) => `
        <div class="event-card" style="animation-delay: ${index * 0.1}s">
            <div class="event-image-container">
                <img src="${event.image}" alt="${event.title}" loading="lazy">
            </div>
            <div class="event-content">
                <div class="event-info">
                    <h3 class="event-title">${event.title}</h3>
                    <p class="event-description">${event.description}</p>
                </div>
                <div class="event-details">
                    <div class="event-date">${event.date}</div>
                    <div class="event-location">
                        <span class="event-tag">üìç</span>
                        <span>${event.location || event.localitation}</span>
                    </div>
                </div>
            </div>
        </div>
      `
        )
        .join("");

    console.log("HTML generado:", eventsHTML);
    container.innerHTML = eventsHTML;
    console.log("Contenido insertado en el contenedor");
}



function populateExperiences() {
    const container = document.getElementById("experiencias-container")
    container.innerHTML = data.experiences
        .map(
            (experience, index) =>
                `
         <div class="group-card" style="animation-delay: ${index * 0.1}s">
            <div class="group-image">
                <img src="${experience.image}" loading="lazy">
                </div>
                <h3>${experience.title}</h3>
                <div class="group-details">
                    <p class="ages">${experience.localitation}</p>
                    <p class="schedule">${experience.age}</p>
                </div>
            </div>
        </div>
        `,
        )
        .join("")
}
